import{c as o,r as l,b as E,a as P,j as e,T as I,I as r,B as n}from"./index-CPMHWxjz.js";import{u as T}from"./useMutation-TEPv2e21.js";import{C as L,a as D,b as U,c as z}from"./card-C4dHKiSB.js";import{a as x,b as p,U as q,c as g,d as j,e as f}from"./dialog-DdGRat3_.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=o("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=o("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=o("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),V={baseUrl:"https://atwork-api-b6a2csaph8cpc9fr.canadacentral-01.azurewebsites.net/"},B=s=>`${V.baseUrl}${s}`,F=async s=>{const i=await fetch(B("login/auth"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!i.ok)throw new Error("Falha na autenticação");return i.json()},$=()=>{const[s,i]=l.useState(""),[d,v]=l.useState(""),[y,m]=l.useState(""),[N,h]=l.useState(""),[b,u]=l.useState(""),w=E(),{toast:c}=P(),t=T({mutationFn:()=>F({Login:s,Senha:d,TP_Login:"A"}),onSuccess:a=>{a.token&&(localStorage.setItem("token",a.token),localStorage.setItem("login",s),localStorage.setItem("userName",a.nome),localStorage.setItem("email",a.email),w("/home"))},onError:()=>{c({title:"Erro ao fazer login",description:"Verifique suas credenciais e tente novamente.",variant:"destructive"})}}),k=a=>{a.preventDefault(),t.mutate()},C=a=>{a.preventDefault(),c({title:"Conta criada com sucesso!",description:"Você já pode fazer login com suas credenciais."}),m(""),h("")},S=a=>{a.preventDefault(),c({title:"Email enviado!",description:"Verifique sua caixa de entrada para redefinir sua senha."}),u("")};return e.jsxs("div",{className:"min-h-screen flex relative",children:[e.jsx("div",{className:"absolute top-4 right-4 z-10",children:e.jsx(I,{})}),e.jsx("div",{className:"hidden lg:block w-1/2 bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?auto=format&fit=crop&q=80')",backgroundSize:"cover"},children:e.jsx("div",{className:"h-full w-full bg-black/30 flex items-center justify-center",children:e.jsxs("h1",{className:"text-4xl font-bold text-white text-center",children:["Bem-vindo ao",e.jsx("br",{}),"@Work Admin"]})})}),e.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center bg-background px-4",children:e.jsxs(L,{className:"w-full max-w-md",children:[e.jsx(D,{className:"space-y-1",children:e.jsx(U,{className:"text-2xl text-center font-bold",children:"Entre na sua conta"})}),e.jsx(z,{children:e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(R,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(r,{placeholder:"Usuário",className:"pl-10",value:s,onChange:a=>i(a.target.value),disabled:t.isPending})]})}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(r,{type:"password",placeholder:"Senha",className:"pl-10",value:d,onChange:a=>v(a.target.value),disabled:t.isPending})]})}),e.jsx(n,{type:"submit",className:"w-full",disabled:t.isPending,children:t.isPending?"Entrando...":"Entrar"}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs(x,{children:[e.jsx(p,{asChild:!0,children:e.jsxs(n,{variant:"ghost",className:"px-0",children:[e.jsx(q,{className:"mr-2 h-4 w-4"}),"Criar conta"]})}),e.jsxs(g,{children:[e.jsx(j,{children:e.jsx(f,{children:"Criar nova conta"})}),e.jsxs("form",{onSubmit:C,className:"space-y-4 mt-4",children:[e.jsx("div",{className:"space-y-2",children:e.jsx(r,{type:"email",placeholder:"E-mail",value:y,onChange:a=>m(a.target.value)})}),e.jsx("div",{className:"space-y-2",children:e.jsx(r,{type:"password",placeholder:"Senha",value:N,onChange:a=>h(a.target.value)})}),e.jsx(n,{type:"submit",className:"w-full",children:"Criar conta"})]})]})]}),e.jsxs(x,{children:[e.jsx(p,{asChild:!0,children:e.jsxs(n,{variant:"ghost",className:"px-0",children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Esqueci minha senha"]})}),e.jsxs(g,{children:[e.jsx(j,{children:e.jsx(f,{children:"Recuperar senha"})}),e.jsxs("form",{onSubmit:S,className:"space-y-4 mt-4",children:[e.jsx("div",{className:"space-y-2",children:e.jsx(r,{type:"email",placeholder:"E-mail",value:b,onChange:a=>u(a.target.value)})}),e.jsx(n,{type:"submit",className:"w-full",children:"Enviar e-mail de recuperação"})]})]})]})]})]})})]})})]})};export{$ as default};
